{% extends "menu.html" %}
{% load staticfiles %}


{% block title %}
新增
{% endblock %}

{% block content %}
<!-- Begin Page Content -->
<div class="container-fluid">

	<!-- Page Heading -->
	<div class="mt-4 mb-2 mr-2 ml-2">
		<h1 class="h3 mb-0 text-gray-800">新增</h1>
		<p class="mb-1">新增東西</p>
	</div>

	
	<div class="row">
		<div class="col-lg-12">
			<div class="card shadow mb-4 mt-4">
			<!-- Card Header - Accordion -->
			<a href="#product" class="d-block card-header py-3" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="collapseCardExample">
			<h6 class="m-0 font-weight-bold text-primary">商品</h6>
			</a>
			<!-- Card Content - Collapse -->
			<div class="collapse show" id="product" style="">
				<div class="card-body">
				<form id="add_product" class="validate-form" method="POST">
					{% csrf_token %}
					<div class="form-group row ">
						<!-- max='618107190088-1' -->
						<div id="div_pdt" class="col">
							<label for="inputproduct" class="text-gray-900">商品編碼</label>
							<input type="text" name="product" id="inputproduct" class="form-control" placeholder="MA HANG">
						</div>
						<div id="" class="col">
							<label for="type" class="text-gray-900">種類</label>
							<select name="type" id="input_type" class="form-control">
								{% for n in type_of %}
								<option>{{ n.type_of }}</option>
								{% endfor %}
							</select>
						</div>
						<div id="div_color" class="col">
						<!-- max = '18690'=>'BI TRANG DEN' -->
							<label for="type" class="text-gray-900">顏色</label>
							<input type="text" name="color" id="inputcolor" class="form-control" placeholder="MAU">
						</div>
						<div class="col">
							<label for="type" class="text-gray-900">單價</label>
							<input type="number" name="price" id="inputprice" class="form-control" placeholder="GIA">
						</div>
					</div>
					<div id="size" class="row">
						<div class="col">
							<label for="type" class="text-gray-900">F size</label>
							<select name="size" id="inputcount" class="form-control">
								<script>
									let count = $("#inputcount");
									for(i = 0; i < 11; i++){
										$("<option></option>").text(i).appendTo(count);
									}
								</script>
							</select>
						</div>
						<script>
							var name = ["XS", "S", "M", "L", "XL", "XXL", "3XL", "4XL", "5XL"]
							for(i = 25; i < 35; i++){
								let div = $("#size");
								$(div).append('<div id="size'+ i +'" class="col"></div>');
								let size = $("#size"+ i);
								$(size).append('<label for="type" class="text-gray-900">'+ i + '</label>');
								let text = name[i-25];
								$(size).append('<label for="type" class="text-gray-900">'+ text + '</label>');
								$(size).append('<select name="size" id="inputsize'+ i +'" class="form-control">');
								let count = $("#inputsize" + i);
								for(j = 0; j < 11; j++){
									$("<option></option>").text(j).appendTo(count);
								}
							}
						</script>
						<button type="button" class="btn btn-primary" data-toggle="modal" data-target=".type_add">Small modal</button>
						<div class="col-sm-auto">
							<input type="submit" name="submit" class="btn btn-primary" value="Submit">
						</div>
					</div>

					<!-- 種類彈出式添加 -->
					<div class="modal fade type_add" tabindex="-1" role="dialog" aria-hidden="true">
						<div class="modal-dialog modal-sm">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title">添加種類</h5>
									<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<div class="modal-body">
									<p>Modal body text goes here.</p>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-primary">Save changes</button>
								</div>
							</div>
						</div>
					</div>
				</form>

				</div>
			</div>
        </div>
		</div>
	</div>


	<div class="row">
		<div class="col-lg-12">
			<div class="card shadow mb-4">
				<!-- Card Header - Accordion -->
				<a href="#clerk" class="d-block card-header py-3 collapsed" data-toggle="collapse" role="button" aria-expanded="false" aria-controls="collapseCardExample">
				<h6 class="m-0 font-weight-bold text-gray-600">店員</h6>
				</a>
				<!-- Card Content - Collapse -->
				<div class="collapse" id="clerk" style="">
				<div class="card-body">
					This is a collapsable card example using Bootstrap's built in collapse functionality. <strong>Click on the card header</strong> to see the card body collapse and expand!
				</div>
				</div>
			</div>
		</div>
	</div>

	<script>
		/*=====================[ Validate ]=====================*/
		let $inputs = $('#add_product .form-control');

		$('#add_product').on('submit', function (e) {
			$inputs.each(function () {
				let $input = $(this);
				console.log($input);
				if ($input .val() == "") {
					if ($input.attr('name') != 'phone' && $input.attr('name') != 'clerk') {
						alert($input.attr('placeholder') + '不能不填!');
						e.preventDefault();
						return false;
					}
				}
			});

			return true;
		});
	</script>
{% endblock %}

{% block tailjslink %}
<script src="{% static "vendor/bootstrap/js/bootstrap3-typeahead.min.js" %}"></script>
{% endblock %}